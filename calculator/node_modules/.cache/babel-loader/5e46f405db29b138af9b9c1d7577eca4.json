{"ast":null,"code":"import { arraySize as size } from '../../utils/array';\nimport { factory } from '../../utils/factory';\nconst name = 'dot';\nconst dependencies = ['typed', 'add', 'multiply'];\nexport const createDot =\n/* #__PURE__ */\nfactory(name, dependencies, ({\n  typed,\n  add,\n  multiply\n}) => {\n  /**\n   * Calculate the dot product of two vectors. The dot product of\n   * `A = [a1, a2, a3, ..., an]` and `B = [b1, b2, b3, ..., bn]` is defined as:\n   *\n   *    dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn\n   *\n   * Syntax:\n   *\n   *    math.dot(x, y)\n   *\n   * Examples:\n   *\n   *    math.dot([2, 4, 1], [2, 2, 3])       // returns number 15\n   *    math.multiply([2, 4, 1], [2, 2, 3])  // returns number 15\n   *\n   * See also:\n   *\n   *    multiply, cross\n   *\n   * @param  {Array | Matrix} x     First vector\n   * @param  {Array | Matrix} y     Second vector\n   * @return {number}               Returns the dot product of `x` and `y`\n   */\n  return typed(name, {\n    'Matrix, Matrix': function (x, y) {\n      return _dot(x.toArray(), y.toArray());\n    },\n    'Matrix, Array': function (x, y) {\n      return _dot(x.toArray(), y);\n    },\n    'Array, Matrix': function (x, y) {\n      return _dot(x, y.toArray());\n    },\n    'Array, Array': _dot\n  });\n  /**\n   * Calculate the dot product for two arrays\n   * @param {Array} x  First vector\n   * @param {Array} y  Second vector\n   * @returns {number} Returns the dot product of x and y\n   * @private\n   */\n  // TODO: double code with math.multiply\n\n  function _dot(x, y) {\n    const xSize = size(x);\n    const ySize = size(y);\n    const len = xSize[0];\n    if (xSize.length !== 1 || ySize.length !== 1) throw new RangeError('Vector expected'); // TODO: better error message\n\n    if (xSize[0] !== ySize[0]) throw new RangeError('Vectors must have equal length (' + xSize[0] + ' != ' + ySize[0] + ')');\n    if (len === 0) throw new RangeError('Cannot calculate the dot product of empty vectors');\n    let prod = 0;\n\n    for (let i = 0; i < len; i++) {\n      prod = add(prod, multiply(x[i], y[i]));\n    }\n\n    return prod;\n  }\n});","map":null,"metadata":{},"sourceType":"module"}